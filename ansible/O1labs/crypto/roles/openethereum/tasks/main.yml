---
- name: Create bridged Ethereum network for components to communicate
  when: setup_mode == "compose"
  community.docker.docker_network:
    name: ethereum

- name: Setup OpenEthereum compose infrastructure topology
  include_tasks: "compose/setup.yml"
  when: setup_mode == "compose"
  tags:
    - setup

- name: Setup OpenEthereum systemd infrastructure topology
  include_tasks: "systemd/setup.yml"
  when: setup_mode == "systemd"
  tags:
    - setup
